#include<iostream>
#include<set>
using namespace std;
int hashtable[100000] = { 0 }, flag[100000] = { 0 };
set<int> s;
int main()
{
	int N, a, b, M;
	scanf_s("%d", &N);
	for (int i = 0; i < N; ++i)
	{
		scanf_s("%d%d", &a, &b);
		hashtable[a] = b;
		hashtable[b] = a;
	}
	scanf_s("%d", &M);
	for (int i = 0; i < M; ++i)
	{
		scanf_s("%d", &a);
		if (hashtable[a] != 0)
		{
			if (flag[hashtable[a]] == 0)
			{
				flag[a] = 1;
			}
			else if (flag[hashtable[a]] == 1)
			{
				flag[a] = 2;
				flag[hashtable[a]] = 2;
			}
		}
		else
		{
			flag[a] = 1;
		}
	}
	for (int i = 0; i < 100000; ++i)
	{
		if (flag[i] == 1)
		{
			s.insert(i);
		}
	}
	printf("%d\n", s.size());
	int num = 0;
	for (set<int>::iterator it = s.begin(); it != s.end(); ++it)
	{
		printf("%05d", *it);
		num++;
		if (num < s.size()) printf(" ");
	}
}
